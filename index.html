<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Expense Tracker</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<!-- Login protection -->
<script>
if (localStorage.getItem("loggedIn") !== "true") {
    window.location.href = "login.html";
}
</script>

<div class="container mt-4">
<div class="card p-4 shadow">

<h3 class="text-center mb-3">ðŸ’° Expense Tracker</h3>

<!-- Month Selector -->
<select id="month" class="form-control mb-3" onchange="loadExpenses()">
    <option value="">Select Month</option>
    <option value="2025-01">January</option>
    <option value="2025-02">February</option>
    <option value="2025-03">March</option>
    <option value="2025-04">April</option>
    <option value="2025-05">May</option>
    <option value="2025-06">June</option>
    <option value="2025-07">July</option>
    <option value="2025-08">August</option>
    <option value="2025-09">September</option>
    <option value="2025-10">October</option>
    <option value="2025-11">November</option>
    <option value="2025-12">December</option>
</select>

<input id="desc" class="form-control mb-2" placeholder="Description">
<input id="amount" type="number" class="form-control mb-2" placeholder="Amount">

<select id="type" class="form-control mb-2">
    <option value="expense">Expense</option>
    <option value="income">Income</option>
</select>

<button class="btn btn-success w-100 mb-3" onclick="addExpense()">Add</button>

<ul class="list-group mb-3" id="list"></ul>

<h5>Income: â‚¹ <span id="income">0</span></h5>
<h5>Expense: â‚¹ <span id="expense">0</span></h5>
<h4>Balance: â‚¹ <span id="balance">0</span></h4>

<!-- Overspending Alert -->
<div id="alertBox" class="alert alert-danger mt-2 d-none">
âš  High spending detected this month!
</div>

<!-- Pie Chart -->
<div class="chart-box mx-auto mt-3">
    <canvas id="expenseChart"></canvas>
</div>

<!-- Monthly Comparison -->
<div class="chart-box mx-auto mt-4">
    <h5 class="text-center">ðŸ“Š Monthly Expense Comparison</h5>
    <canvas id="monthlyChart"></canvas>
</div>

<!-- Growth -->
<p class="text-center mt-3 fw-bold" id="growth"></p>

<!-- Suggestions -->
<div class="mt-4">
    <h5>ðŸ’¡ Suggestions to Reduce Expenses</h5>
    <ul class="list-group" id="suggestions"></ul>
</div>

<button class="btn btn-primary w-100 mt-3" onclick="downloadExpenses()">
â¬‡ Download Monthly Expenses
</button>

<button class="btn btn-primary w-100 mt-3" onclick="exportData()">
â¬‡ Export to Excel
</button>

<button class="btn btn-danger w-100 mt-2" onclick="logout()">
Logout
</button>

</div>
</div>

<script src="js/script.js"></script>
</body>
</html>
